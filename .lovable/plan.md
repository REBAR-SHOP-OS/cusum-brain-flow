

## ฺฉูพุงุฑฺูโุณุงุฒ ุชููุฏ ุชุตูุฑ ุจุง ChatGPT ุฏุฑ ุฌุฑุงู ฺุช ุงุฌูุช Pixel

### ุฎูุงุตู
ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ ุฏุงููฺฏ ุฌุฏุงฺฏุงูู ุจุฑุง ุชููุฏ ุชุตูุฑุ ููุช ฺฉุงุฑุจุฑ ุชุงุฑุฎ ุฑุง ุจู ุงุฌูุช Pixel ุงุฑุณุงู ูโฺฉูุฏุ ุงุฌูุช ุฎูุฏฺฉุงุฑ ต ุชุตูุฑ (ูุทุงุจู ุจุฑูุงูู ุฑูุฒุงูู) ุชููุฏ ฺฉุฑุฏู ู ุขููุง ุฑุง ูุณุชููุงู ุฏุฑ ฺุช ููุงุด ุฏูุฏ.

### ุฌุฑุงู ฺฉุงุฑ ุฌุฏุฏ

```text
ฺฉุงุฑุจุฑ: "2026-02-12"
   |
   v
Pixel (ai-agent): ูพุฑุงููพุช ุณุณุชู ุชุดุฎุต ูโุฏูุฏ ุชุงุฑุฎ ุฏุงุฏู ุดุฏู
   |
   v
ai-agent ุงุฒ generate-image ูุฑุงุฎูุงู ูโฺฉูุฏ (ต ุจุงุฑุ ฺฉ ุจุฑุง ูุฑ ุงุณูุงุช ุฒูุงู)
   |
   v
ุชุตุงูุฑ ุชููุฏ ุดุฏู + ฺฉูพุดูโูุง ุฏุฑ ูพุงุณุฎ Markdown ุจุฑฺฏุฑุฏุงูุฏู ูโุดููุฏ
   |
   v
ChatThread ุชุตุงูุฑ ุฑุง ุฑูุฏุฑ ูโฺฉูุฏ
```

### ุชุบุฑุงุช

**ูุงู 1: `supabase/functions/ai-agent/index.ts`**
- ุฏุฑ ุจุฎุด `agent === "social"`: ููุช ูพุงู ฺฉุงุฑุจุฑ ุดุงูู ฺฉ ุชุงุฑุฎ ุจุงุดุฏ (ุชุดุฎุต ุงูฺฏู ุชุงุฑุฎ ูุซู YYYY-MM-DD ุง ูุฑูุชโูุง ุฏฺฏุฑ):
  1. ุงุจุชุฏุง ุจุง AI ูุฏู ูุชูุ ต ูพุฑุงููพุช ุชุตูุฑ ุชููุฏ ุดูุฏ (ูุฑ ฺฉุฏุงู ูุทุงุจู ฺฉ ุงุณูุงุช ุฒูุงู + ูุญุตูู ูุชูุงูุช)
  2. ุงุฒ knowledge table ุขุชูโูุง `metadata.agent = "social"` ุฎูุงูุฏู ุดูุฏ ู ูุญุชูุง ุขููุง ุจู ุนููุงู ุฏุณุชูุฑุนููโูุง ุงุถุงู ุจู ูพุฑุงููพุชโูุง ุงุถุงูู ุดูุฏ
  3. ูุฑ ต ูพุฑุงููพุช ุจู `generate-image` edge function ุงุฑุณุงู ุดูุฏ
  4. ูุชุฌู ููุง ุดุงูู ต ุชุตูุฑ + ฺฉูพุดู + ูุดุชฺฏโูุง ุฏุฑ Markdown ูุฑูุช ุจุฑฺฏุฑุฏุงูุฏู ุดูุฏ
- ูฺ ฺฉุฑุฏู ุฏุงูุดโูุง Pixel Brain (`metadata->>'agent' = 'social'`) ู ุชุฒุฑู ุขููุง ุจู system prompt

**ูุงู 2: `src/components/chat/ChatMessage.tsx` ุง `RichMarkdown.tsx`**
- ุงุทููุงู ุงุฒ ุฑูุฏุฑ ุตุญุญ ุชุตุงูุฑ base64 ู URL ุฏุฑ ูพุงุณุฎโูุง Markdown ุงุฌูุช
- ุชุตุงูุฑ ุจุง ุณุงุฒ ููุงุณุจ ู ูุงุจูุช ุฏุงูููุฏ ููุงุด ุฏุงุฏู ุดููุฏ

### ฺู ฺุฒ ุชุบุฑ ููโฺฉูุฏ
- ุฏุงููฺฏ ImageGenerator (ููฺูุงู ุจุฑุง ุชููุฏ ุชุตูุฑ ุฏุณุช ูุงุจู ุงุณุชูุงุฏู ุงุณุช)
- ุณุงุฑ ุงุฌูุชโูุง
- ุณุงุฎุชุงุฑ ุฏุชุงุจุณ

### ุฌุฒุฆุงุช ูู

**ุชุดุฎุต ุชุงุฑุฎ ุฏุฑ ูพุงู:**
- ุงูฺฏููุง ูพุดุชุจุงู ุดุฏู: `YYYY-MM-DD`, `DD/MM/YYYY`, `ูุฑุฏุง`, `today`, `tomorrow`, ูุงู ุฑูุฒูุง ููุชู
- ููุช ุชุงุฑุฎ ุชุดุฎุต ุฏุงุฏู ุดุฏุ ููฺฏ `isDateBasedGeneration = true` ูุนุงู ูโุดูุฏ

**ูฺ ุฏุงูุด Pixel Brain:**
```sql
SELECT title, content, source_url FROM knowledge
WHERE metadata->>'agent' = 'social'
ORDER BY created_at DESC LIMIT 20
```

**ุชููุฏ ต ูพุฑุงููพุช ุชุตูุฑ:**
- ูุฑุญูู ุงูู: ฺฉ ุฏุฑุฎูุงุณุช AI ูุชู ุจุฑุง ุชููุฏ ต ูพุฑุงููพุช ุชุตูุฑ (ุดุงูู ูุญุตููุ ุชูุ ุฒูุงู)
- ูุฑุญูู ุฏูู: ต ุฏุฑุฎูุงุณุช ููุงุฒ ุจู `generate-image` ุจุฑุง ุชููุฏ ุชุตุงูุฑ
- ูุฑุญูู ุณูู: ุชุฑฺฉุจ ุชุตุงูุฑ + ฺฉูพุดูโูุง ุฏุฑ ูพุงุณุฎ ููุง

**ูุฑูุช ูพุงุณุฎ:**
```markdown
## ๐ Content for February 12, 2026

### 1. โฐ 06:30 AM โ Motivational
**Product: Rebar Cages**
> Caption: ...
> Hashtags: #RebarShop #Construction ...

![Post 1](data:image/png;base64,...)

---
### 2. โฐ 07:30 AM โ Creative Promotional
...
```

**ูฺฉุชู ููู:** ุงุฒ ุขูุฌุง ฺฉู ุชููุฏ ต ุชุตูุฑ ุฒูุงูโุจุฑ ุงุณุช (ูุฑ ุชุตูุฑ ฑฐ-ณฐ ุซุงูู)ุ ูพุงุณุฎ ููฺฉู ุงุณุช ฑ-ฒ ุฏููู ุทูู ุจฺฉุดุฏ. ูพุงู "thinking..." ุฏุฑ UI ูุนู ุงู ุงูุชุธุงุฑ ุฑุง ูพูุดุด ูโุฏูุฏ.
