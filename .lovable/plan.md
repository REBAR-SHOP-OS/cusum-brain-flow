
# فعال‌سازی شورتکات "1" برای تولید پست در Pixel

## مشکل
وقتی کاربر عدد `1` را تایپ می‌کند، هیچ‌کدام از الگوهای تاریخ یا محتوا شناسایی نمی‌شوند و تولید تصویر آغاز نمی‌شود.

## راه‌حل
در فایل `supabase/functions/ai-agent/index.ts`، در بخش تشخیص الگوهای محتوا (content plan patterns)، عدد `1` به‌تنهایی را هم به‌عنوان trigger اضافه می‌کنیم. وقتی کاربر فقط `1` بزند، سیستم از تاریخ امروز استفاده کرده و اسلات ۱ را تولید می‌کند.

## تغییرات

### `supabase/functions/ai-agent/index.ts`
در بخش `contentPlanPatterns` (حدود خط 3763-3778)، یک الگوی جدید اضافه می‌شود:

```text
/^1$/   -->  اگر پیام دقیقا "1" باشد، تولید پست اسلات ۱ آغاز شود
```

این الگو فقط وقتی مچ می‌شود که پیام trim شده دقیقا `"1"` باشد. سپس تاریخ امروز جایگزین می‌شود و جریان عادی تولید تصویر + کپشن + دکمه تایید اجرا می‌شود.

## جریان کاربر
1. کاربر `1` را تایپ می‌کند
2. بک‌اند تاریخ امروز را استفاده می‌کند و اسلات ۱ (06:30 AM) را تولید می‌کند
3. تصویر ساخته و آپلود می‌شود
4. کپشن فارسی و انگلیسی نمایش داده می‌شود
5. دکمه "Approve & Generate Post 2/5" نمایش داده می‌شود
6. بعد از تایید، اسلات بعدی تولید می‌شود
