
ูุฏู: ุฑูุน ูุทุน ูุดฺฉู ยซููุงุด ุชุฑุฌูู ูุงุฑุณ ุฒุฑ ุฏฺฉููโูุง Approve/Regenerateยป ุจุฑุง Pixelุ ุจูโุตูุฑุช ุงูุฒุงูโุขูุฑ ู ุจุฏูู ูุงุจุณุชฺฏ ุจู ุฑูุชุงุฑ ูุชุบุฑ ูุฏู.

ุขูฺู ุงุฒ ุจุฑุฑุณ ูุดุฎุต ุดุฏ:
- UI ฺฉุงุฑุช ุฏุฑุณุช ุงุณุช ู ุจููฺฉ ุชุฑุฌูู ูุงุฑุณ ูุงูุนุงู ุฒุฑ ุฏฺฉููโูุง ูุฑุงุฑ ุฏุงุฑุฏ (`PixelPostCard`).
- ูุดฺฉู ุงุตู ุงู ุงุณุช ฺฉู `post.persianTranslation` ุฎุงู ูโูุงูุฏ.
- ุนูุช ุฎุงู ูุงูุฏู: ูุณุฑ ุชููุฏ ูพุณุช Pixel ุฏุฑ ุจฺฉโุงูุฏ (`ai-agent/index.ts`) ุฏุฑ ุญุงูุช `deterministic-pixel` ูพุงุณุฎ ุฑุง ุจุฏูู `---PERSIAN---` ุจุฑูโฺฏุฑุฏุงูุฏ (ุฏุฑ ูุงฺฏ ุดุจฺฉู ูู ููู ุฏุฏู ุดุฏ)ุ ุจูุงุจุฑุงู `extractPostData` ฺุฒ ุจุฑุง ุชุฑุฌูู ูุงุฑุณ ูพุฏุง ููโฺฉูุฏ.

ุจุฑูุงูู ุงุฌุฑุง:

1) ุงุตูุงุญ ููุจุน ุงุตู ุฎุฑูุฌ Pixel (ุจฺฉโุงูุฏ deterministic)
- ูุงู: `supabase/functions/ai-agent/index.ts`
- ุฏุฑ ุจุฎุด ุณุงุฎุช `results.push(...)` ุจุฑุง ูุฑ ุงุณูุงุชุ ุฎุฑูุฌ ุฑุง ุจู ูุฑูุช ุงุฌุจุงุฑ ฺฉุงูู ุชุบุฑ ูโุฏูู:
  1. ุชุตูุฑ
  2. ฺฉูพุดู ุงูฺฏูุณ
  3. ุงุทูุงุนุงุช ุชูุงุณ
  4. ูุดุชฺฏโูุง
  5. `---PERSIAN---`
  6. `๐ผ๏ธ ูุชู ุฑู ุนฺฉุณ: ...`
  7. `๐ ุชุฑุฌูู ฺฉูพุดู: ...`
- ูุชุฌู: ุญุช ููุช ูุณุฑ deterministic ูุนุงู ุงุณุชุ ุชุฑุฌูู ูุงุฑุณ ููุดู ุชููุฏ ู ุจู ูุฑุงูุช ุงุฑุณุงู ูโุดูุฏ.

2) ุงุถุงููโฺฉุฑุฏู ุฏุงุฏู ุชุฑุฌูู ุจุฑุง ูุฑ ุงุณูุงุช ุจูโุตูุฑุช ูพุงุฏุงุฑ
- ูุงู: `supabase/functions/ai-agent/index.ts`
- ุจุฑุง `PIXEL_SLOTS` ุฏู ููุฏ ุฌุฏุฏ ุงุถุงูู ูโฺฉูู:
  - `imageTextEn` (ูุชู ุงูฺฏูุณ ุฏุงุฎู ุชุตูุฑ)
  - `imageTextFa` (ุชุฑุฌูู ูุงุฑุณ ููุงู ูุชู)
- ุจุฑุง `captionFa` ูู ููุฏุงุฑ ูุดุฎุต/ูพุงุฏุงุฑ ุชุนุฑู ูโฺฉูู ุชุง ูุงุจุณุชู ุจู ูุฏู ูุจุงุดุฏ.
- ูุชุฌู: ุจุฎุด ุชุฑุฌูู ุฏุงุฎู ููุดู ฺฉุงูู ุงุณุช (ูู ุชุฑุฌูู ูุชู ุฏุงุฎู ุนฺฉุณุ ูู ุชุฑุฌูู ฺฉูพุดู).

3) ุณูุชโฺฉุฑุฏู ูพุงุฑุณุฑ ูุฑุงูุช ุจุฑุง ุณูุงุฑููุง ูุงุณุงุฒฺฏุงุฑ
- ูุงู: `src/components/social/PixelChatRenderer.tsx`
- ุนูุงูู ุจุฑ ุญุงูุช ุงุณุชุงูุฏุงุฑุฏ `---PERSIAN---`ุ ฺฉ fallback ุงุถุงูู ูโฺฉูู:
  - ุงฺฏุฑ separator ูุจูุฏุ ูู ุงูฺฏููุง `๐ผ๏ธ ูุชู ุฑู ุนฺฉุณ:` ุง `๐ ุชุฑุฌูู ฺฉูพุดู:` ูุฌูุฏ ุฏุงุดุชุ ุขู ุจุฎุด ุฑุง ุจูโุนููุงู `persianTranslation` ุงุณุชุฎุฑุงุฌ ฺฉูุฏ.
- ูุชุฌู: ุงฺฏุฑ ุฏุฑ ุขูุฏู ุฎุฑูุฌ ฺฉู ุงุฒ ูุงูุจ ููุญุฑู ุดุฏุ ุชุฑุฌูู ููฺูุงู ุฒุฑ ุฏฺฉููโูุง ููุงุด ุฏุงุฏู ูโุดูุฏ.

4) ุญูุธ ูุงุนุฏู ยซุชุฑุฌูู ููุท ุจุฑุง ุงุทูุงุนโุฑุณุงูยป
- ูุงูโูุง: `src/components/social/PixelChatRenderer.tsx` ู `src/pages/AgentWorkspace.tsx`
- ุงุทููุงู ูโุฏูู ุชุฑุฌูู ูุงุฑุณ ููุท ุฏุฑ `persianTranslation` ุจูุงูุฏ ู ูุงุฑุฏ `content` ุฐุฎุฑูโุดุฏู ุจุฑุง Social Media Manager ูุดูุฏ.
- `handleApprovePost` ููฺูุงู ููุท ฺฉูพุดู ุชูุฒ ุงูฺฏูุณ + ูุดุชฺฏโูุง ุฑุง ุฐุฎุฑู ูโฺฉูุฏ.

5) ุฑุงุณุชโุขุฒูุง ุงุฌุจุงุฑ (E2E)
- ุชุณุช 1: ุฏุฑ `/agent/social` ุงุณูุงุช `1` ุงุฑุณุงู ุดูุฏุ ุจุงุฏ ุจููฺฉ ุชุฑุฌูู ูุงุฑุณ ุฒุฑ ุฏฺฉููโูุง Approve/Regenerate ุฏุฏู ุดูุฏ.
- ุชุณุช 2: Approve ุงูุฌุงู ุดูุฏุ ุฏุฑ ุชููู/ูุฏุฑุช ูพุณุช ููุท ุงูฺฏูุณ ุฐุฎุฑู ุดูุฏ ู ูุชู ูุงุฑุณ ุฐุฎุฑู ูุดูุฏ.
- ุชุณุช 3: Regenerate ุงูุฌุงู ุดูุฏุ ุชุฑุฌูู ูุงุฑุณ ุจุงุฏ ุฏูุจุงุฑู ููุงุด ุฏุงุฏู ุดูุฏ.
- ุชุณุช 4: ุจุฑุฑุณ ุงูฺฉู ุณุทุฑ `### Slot ...` ุฏุฑ ฺฉูพุดู ุฐุฎุฑูโูุดุฏู ูุจุงุดุฏ (ุทุจู ุงุตูุงุญุงุช ูุจู).

ูฺฉุชู ููู:
- ฺูู ูุณุฑ deterministic-pixel ุงูุงู ูุจูุง ุงุตู ุชููุฏ ุงู ุฎุฑูุฌ ุงุณุชุ ุงุตูุงุญ ุฏุฑ ููู ูุณุฑ ูุดฺฉู ุฑุง ุฑุดูโุง ุญู ูโฺฉูุฏ (ูู ููุท UI).
